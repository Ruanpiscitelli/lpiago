!function(){const e=200,t=!1,n=a("avif"),o=a("webp");function a(e){return new Promise((t=>{const n=new Image;n.onload=function(){t(1===n.width)},n.onerror=function(){t(!1)},n.src=`data:image/${e};base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=`}))}async function s(){await async function(){const e=document.querySelector(".main-image img");if(e){if(e.fetchPriority="high",e.loading="eager",e.decoding="async",e.classList.add("lcp-image"),"PerformanceObserver"in window){const e=new PerformanceObserver((n=>{const o=n.getEntries(),a=o[o.length-1];t&&(console.log("LCP:",a.startTime,"ms"),console.log("LCP Element:",a.element)),e.disconnect()}));e.observe({type:"largest-contentful-paint",buffered:!0})}}else t&&console.log("Imagem LCP nÃ£o encontrada")}(),function(){if("IntersectionObserver"in window){const t=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;if(n.dataset.src){if(n.dataset.lowSrc){n.classList.add("loading");const e=new Image;e.onload=()=>{n.src=n.dataset.src,n.classList.remove("loading"),n.classList.add("loaded")},e.src=n.dataset.src}else n.src=n.dataset.src;n.onload=()=>{n.removeAttribute("data-src"),n.removeAttribute("data-low-src")},t.unobserve(n)}}}))}),{rootMargin:`${e}px`,threshold:.01});document.querySelectorAll("img[data-src]").forEach((e=>{e.classList.contains("lcp-image")||t.observe(e)}))}else document.querySelectorAll("img[data-src]").forEach((e=>{e.classList.contains("lcp-image")||(e.src=e.dataset.src)}))}(),t&&(console.log("Suporte a AVIF:",await n),console.log("Suporte a WebP:",await o))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s(),window.imageOptimizer={selectBestImageFormat:async function(e,t){const a=await n,s=await o;return a?`${e}.avif`:s?`${e}.webp`:`${e}.${t}`},supportsAvif:n,supportsWebP:o}}();